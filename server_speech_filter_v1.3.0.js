// server_speech_filter_v1.3.0.js — speech helpers v1.3.0
const STATES={ 'AL':'Alabama','AK':'Alaska','AZ':'Arizona','AR':'Arkansas','CA':'California','CO':'Colorado','CT':'Connecticut','DE':'Delaware','FL':'Florida','GA':'Georgia','HI':'Hawaii','ID':'Idaho','IL':'Illinois','IN':'Indiana','IA':'Iowa','KS':'Kansas','KY':'Kentucky','LA':'Louisiana','ME':'Maine','MD':'Maryland','MA':'Massachusetts','MI':'Michigan','MN':'Minnesota','MS':'Mississippi','MO':'Missouri','MT':'Montana','NE':'Nebraska','NV':'Nevada','NH':'New Hampshire','NJ':'New Jersey','NM':'New Mexico','NY':'New York','NC':'North Carolina','ND':'North Dakota','OH':'Ohio','OK':'Oklahoma','OR':'Oregon','PA':'Pennsylvania','RI':'Rhode Island','SC':'South Carolina','SD':'South Dakota','TN':'Tennessee','TX':'Texas','UT':'Utah','VT':'Vermont','VA':'Virginia','WA':'Washington','WV':'West Virginia','WI':'Wisconsin','WY':'Wyoming' };
function sanitize(text){ return String(text||'').replace(/\bSilent\s*\d+\s*S\s*Pause\b/gi,'').replace(/\bAgent waits \d+ms\b/gi,'').replace(/\s{2,}/g,' ').trim(); }
function expandState(s){ const u=String(s||'').toUpperCase(); return STATES[u]||s; }
function articulateDigitsStable(input){ const map={'0':'zero','1':'one','2':'two','3':'three','4':'four','5':'five','6':'six','7':'seven','8':'eight','9':'nine'}; const digits=String(input||'').replace(/\D/g,''); return digits.split('').map(d=>map[d]||d).join(' '); }
function healthPacing(questions){ const seq=[]; const lead="Thanks—let’s go one at a time. "; if(!Array.isArray(questions)||!questions.length){ return [lead+"First, do you experience any joint pain?"]; } for(let i=0;i<questions.length;i++){ const q=String(questions[i]).trim(); seq.push((i===0?lead:'Got it. ')+q); } return seq; }
module.exports={ sanitize, expandState, articulateDigitsStable, healthPacing };
